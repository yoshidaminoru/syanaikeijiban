<!DOCTYPE html>
<html>
<head>
    <title>ç¤¾å†…å ±ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ²ç¤ºæ¿</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .post { border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 5px; }
        .post-form { margin-bottom: 30px; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; }
        button { padding: 8px 15px; background: #4CAF50; color: white; border: none; cursor: pointer; }
        .like-button { background: #f0f0f0; color: #333; padding: 5px 10px; margin-top: 10px; }
        .replies { margin-left: 20px; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>ç¤¾å†…å ±ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ²ç¤ºæ¿</h1>
    
    <div class="post-form">
        <h2>æ–°è¦æŠ•ç¨¿</h2>
        <textarea id="post-content" placeholder="ã“ã“ã«æŠ•ç¨¿å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
        <button onclick="addPost()">æŠ•ç¨¿ã™ã‚‹</button>
    </div>
    
    <div id="posts-container">
        <!-- æŠ•ç¨¿ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
    </div>

    <script>
        // LocalStorageã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€
        let posts = JSON.parse(localStorage.getItem('posts')) || [];
        
        // ç”»é¢è¡¨ç¤ºæ™‚ã«æŠ•ç¨¿ã‚’è¡¨ç¤º
        displayPosts();
        
        // æ–°è¦æŠ•ç¨¿ã‚’è¿½åŠ 
        function addPost() {
            const content = document.getElementById('post-content').value;
            if (content.trim() === '') return;
            
            const post = {
                id: Date.now(),
                content: content,
                likes: 0,
                replies: [],
                timestamp: new Date().toLocaleString()
            };
            
            posts.unshift(post); // é…åˆ—ã®å…ˆé ­ã«è¿½åŠ 
            savePosts();
            displayPosts();
            document.getElementById('post-content').value = '';
        }
        
        // ã„ã„ã­ã‚’è¿½åŠ 
        function likePost(id) {
            const post = posts.find(p => p.id === id);
            if (post) {
                post.likes++;
                savePosts();
                displayPosts();
            }
        }
        
        // è¿”ä¿¡ã‚’è¿½åŠ 
        function addReply(postId) {
            const replyContent = document.getElementById(`reply-${postId}`).value;
            if (replyContent.trim() === '') return;
            
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.replies.push({
                    content: replyContent,
                    timestamp: new Date().toLocaleString()
                });
                savePosts();
                displayPosts();
            }
        }
        
        // æŠ•ç¨¿ã‚’è¡¨ç¤º
        function displayPosts() {
            const container = document.getElementById('posts-container');
            container.innerHTML = '';
            
            posts.forEach(post => {
                let postHTML = `
                    <div class="post">
                        <div>${post.content}</div>
                        <small>${post.timestamp}</small>
                        <button class="like-button" onclick="likePost(${post.id})">ğŸ‘ ${post.likes}</button>
                        
                        <div class="replies">
                            ${post.replies.map(reply => `
                                <div class="reply">
                                    <div>${reply.content}</div>
                                    <small>${reply.timestamp}</small>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="reply-form">
                            <textarea id="reply-${post.id}" placeholder="è¿”ä¿¡ã‚’å…¥åŠ›..."></textarea>
                            <button onclick="addReply(${post.id})">è¿”ä¿¡ã™ã‚‹</button>
                        </div>
                    </div>
                `;
                
                container.innerHTML += postHTML;
            });
        }
        
        // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
        function savePosts() {
            localStorage.setItem('posts', JSON.stringify(posts));
        }
    </script>
</body>
</html>
